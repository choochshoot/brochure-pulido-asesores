<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
<title>Pulido Asesores | Especialistas en Auditoría</title>

<!-- SEO -->
<meta name="description" content="Pulido Asesores. Firma especializada en Auditoría, Control Interno, BPS y BPO. Certeza financiera, control y confianza.">
<meta name="keywords" content="Auditoría, Auditoría Financiera, Auditoría Fiscal, Control Interno, BPO, BPS, Pulido Asesores">
<meta name="robots" content="index,follow">

<!-- Open Graph -->
<meta property="og:title" content="Pulido Asesores | Especialistas en Auditoría">
<meta property="og:description" content="Certeza financiera. Control. Confianza.">
<meta property="og:image" content="https://i.imgur.com/lypuRIZ.png">
<meta property="og:type" content="website">
<meta property="og:locale" content="es_MX">

<!-- Schema.org -->
<script type="application/ld+json">
{
  "@context":"https://schema.org",
  "@type":"AccountingService",
  "name":"Pulido Asesores",
  "description":"Firma especializada en auditoría financiera, fiscal, control interno, BPS y BPO.",
  "url":"https://choochshoot.github.io/asesoria-fiscal-site/",
  "logo":"https://i.imgur.com/DGBtqM1.png",
  "areaServed":{"@type":"Country","name":"México"},
  "founder":{"@type":"Person","name":"CP Gilberto Pulido"},
  "contactPoint":{
    "@type":"ContactPoint",
    "telephone":"+52-56-6855-0117",
    "contactType":"Atención profesional",
    "availableLanguage":"Spanish"
  }
}
</script>

<!-- PDF Generation Library -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

<style>
:root{
  --blue:#0b1e33;
  --dark:#05070d;
  --white:#ffffff;
  --gray:#9ca3af;
  --accent:#2a7de1;
  --success:#25D366;
  --danger:#e63946;
  --light-bg:#111827;
}

/* RESET & BASE */
*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  -webkit-tap-highlight-color:transparent;
}

body{
  background:var(--dark);
  color:var(--white);
  line-height:1.7;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
  overflow-x:hidden;
}

/* TYPOGRAPHY */
h1,h2{
  text-transform:uppercase;
  letter-spacing:.05em;
  line-height:1.3;
}

h1{
  font-size:clamp(1.8rem, 5vw, 2.2rem);
  font-weight:900;
  margin-bottom:0.5rem;
  color:var(--white);
}

h2{
  font-size:clamp(1.3rem, 4vw, 1.6rem);
  margin-bottom:1rem;
  color:var(--white);
}

h3{
  font-size:1.1rem;
  margin:1.2rem 0 0.5rem;
  color:#e5e7eb;
  font-weight:600;
}

p{
  color:#d1d5db;
  margin-bottom:1.2rem;
  font-size:clamp(0.95rem, 3vw, 1.05rem);
}

strong{
  color:var(--white);
  font-weight:600;
}

/* GLOBAL LAYOUT */
section{
  padding:clamp(2.5rem, 5vw, 3.5rem) clamp(1rem, 4vw, 1.5rem);
}

.container{
  max-width:1200px;
  margin:0 auto;
}

.logo{
  width:clamp(160px, 40vw, 200px);
  margin-bottom:1.5rem;
  display:block;
}

img{
  width:100%;
  height:auto;
  display:block;
  border-radius:4px;
}

/* HERO SECTION */
.hero{
  min-height:100vh;
  background:
    linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.8)),
    url('https://i.imgur.com/lypuRIZ.png') center/cover no-repeat;
  position:relative;
  display:flex;
  align-items:flex-end;
  padding:2rem 1.5rem 4rem;
}

.hero-content{
  width:100%;
  border-left:4px solid var(--accent);
  padding-left:1.2rem;
  margin-bottom:2rem;
  animation:fadeInUp 1s ease-out;
}

/* CARDS */
.card{
  background:#0b1220;
  border:1px solid rgba(255,255,255,.08);
  border-radius:8px;
  padding:clamp(1.5rem, 4vw, 2rem) clamp(1.2rem, 3vw, 1.5rem);
  margin-bottom:2rem;
  box-shadow:0 10px 30px rgba(0,0,0,0.2);
  
  /* REVEAL ANIMATION */
  opacity:0;
  transform:translateY(40px) scale(.98);
  transition:
    opacity .6s ease,
    transform .6s cubic-bezier(.22,1,.36,1),
    box-shadow .4s ease;
}

.card.reveal{
  opacity:1;
  transform:translateY(0) scale(1);
}

.card:hover{
  box-shadow:0 15px 40px rgba(0,0,0,0.3);
  border-color:rgba(255,255,255,.15);
}

/* PHILOSOPHY CARD SPECIAL STYLE */
.philosophy-card{
  background:linear-gradient(135deg, #0b1220 0%, #1a2238 100%);
  border-left:4px solid var(--accent);
}

.philosophy-list{
  margin-top:1.5rem;
}

.philosophy-item{
  padding:1rem 0 1rem 1.5rem;
  border-bottom:1px solid rgba(255,255,255,.08);
  position:relative;
}

.philosophy-item:before{
  content:"";
  position:absolute;
  left:0;
  top:1.4rem;
  width:8px;
  height:8px;
  background:var(--accent);
  border-radius:50%;
}

.philosophy-item strong{
  display:block;
  margin-bottom:0.3rem;
  color:var(--white);
}

/* LISTS */
ul{
  list-style:none;
  margin:1.5rem 0;
}

li{
  padding:.6rem 0 .6rem 1.5rem;
  border-bottom:1px solid rgba(255,255,255,.08);
  font-size:.95rem;
  position:relative;
}

li:before{
  content:"•";
  color:var(--accent);
  position:absolute;
  left:0;
  font-size:1.2rem;
}

.list-group{
  display:grid;
  grid-template-columns:1fr;
  gap:1.5rem;
  margin:1.5rem 0;
}

@media (min-width:768px){
  .list-group{
    grid-template-columns:repeat(3,1fr);
  }
}

/* BUTTONS */
.btn{
  display:inline-block;
  padding:0.9rem 1.8rem;
  border-radius:50px;
  font-weight:700;
  text-decoration:none;
  text-align:center;
  border:none;
  cursor:pointer;
  transition:all 0.3s ease;
  font-size:0.95rem;
  letter-spacing:0.03em;
}

.btn-primary{
  background:var(--accent);
  color:var(--white);
  border:2px solid var(--accent);
}

.btn-primary:hover{
  background:transparent;
  color:var(--accent);
  transform:translateY(-3px);
  box-shadow:0 10px 20px rgba(42,125,225,0.2);
}

.btn-outline{
  background:transparent;
  color:var(--white);
  border:2px solid var(--white);
}

.btn-outline:hover{
  background:var(--white);
  color:var(--dark);
  transform:translateY(-3px);
}

.btn-danger{
  background:var(--danger);
  color:var(--white);
  border:2px solid var(--danger);
}

.btn-danger:hover{
  background:transparent;
  color:var(--danger);
  transform:translateY(-3px);
}

/* CTA SECTION */
.cta{
  background:var(--blue);
  text-align:center;
  border-radius:12px;
  margin:3rem 1rem;
  padding:2.5rem 1.5rem;
}

.cta-buttons{
  display:flex;
  flex-direction:column;
  gap:1rem;
  max-width:320px;
  margin:1.5rem auto 0;
}

@media (min-width:480px){
  .cta-buttons{
    flex-direction:row;
    justify-content:center;
    max-width:100%;
  }
}

/* FLOATING ACTION BUTTONS */
.floating-buttons{
  position:fixed;
  bottom:20px;
  right:20px;
  display:flex;
  flex-direction:column;
  gap:15px;
  z-index:1000;
}

.floating-btn{
  width:60px;
  height:60px;
  border-radius:50%;
  display:flex;
  align-items:center;
  justify-content:center;
  box-shadow:0 10px 25px rgba(0,0,0,0.3);
  transition:all 0.3s ease;
  position:relative;
  overflow:hidden;
}

.floating-btn:hover{
  transform:translateY(-5px) scale(1.05);
}

.floating-btn.whatsapp{
  background:var(--success);
  color:white;
}

.floating-btn.pdf{
  background:var(--danger);
  color:white;
}

.floating-btn i{
  font-size:1.5rem;
}

.btn-label{
  position:absolute;
  right:70px;
  background:rgba(0,0,0,0.8);
  color:white;
  padding:0.5rem 1rem;
  border-radius:6px;
  white-space:nowrap;
  opacity:0;
  transition:opacity 0.3s ease;
  pointer-events:none;
}

.floating-btn:hover .btn-label{
  opacity:1;
}

/* PDF MODAL */
.modal{
  display:none;
  position:fixed;
  top:0;
  left:0;
  width:100%;
  height:100%;
  background:rgba(0,0,0,0.9);
  z-index:2000;
  align-items:center;
  justify-content:center;
  padding:1rem;
}

.modal-content{
  background:#0b1220;
  border-radius:12px;
  max-width:500px;
  width:100%;
  padding:2rem;
  border:1px solid rgba(255,255,255,.1);
  box-shadow:0 20px 60px rgba(0,0,0,0.5);
  animation:modalFadeIn 0.4s ease-out;
}

.modal-header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom:1.5rem;
  padding-bottom:1rem;
  border-bottom:1px solid rgba(255,255,255,.1);
}

.modal-title{
  font-size:1.3rem;
  color:var(--white);
}

.modal-close{
  background:none;
  border:none;
  color:var(--gray);
  font-size:1.8rem;
  cursor:pointer;
  transition:color 0.3s ease;
}

.modal-close:hover{
  color:var(--white);
}

.modal-body{
  margin-bottom:2rem;
}

.modal-options{
  display:grid;
  grid-template-columns:1fr;
  gap:1rem;
}

@media (min-width:480px){
  .modal-options{
    grid-template-columns:1fr 1fr;
  }
}

.pdf-option-btn{
  background:rgba(255,255,255,0.05);
  border:1px solid rgba(255,255,255,0.1);
  border-radius:8px;
  padding:1.5rem 1rem;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  transition:all 0.3s ease;
}

.pdf-option-btn:hover{
  background:rgba(255,255,255,0.1);
  border-color:var(--accent);
  transform:translateY(-3px);
}

.pdf-option-btn i{
  font-size:2rem;
  margin-bottom:0.8rem;
  color:var(--accent);
}

.pdf-option-btn span{
  font-weight:600;
  text-align:center;
}

.pdf-option-desc{
  font-size:0.85rem;
  color:var(--gray);
  margin-top:0.5rem;
  text-align:center;
}

/* LOADING OVERLAY */
.loading-overlay{
  position:fixed;
  top:0;
  left:0;
  width:100%;
  height:100%;
  background:rgba(0,0,0,0.9);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:3000;
  flex-direction:column;
}

.loading-spinner{
  width:60px;
  height:60px;
  border:5px solid rgba(255,255,255,0.1);
  border-radius:50%;
  border-top-color:var(--accent);
  animation:spin 1s linear infinite;
  margin-bottom:1.5rem;
}

.loading-text{
  color:var(--white);
  font-size:1.1rem;
  font-weight:600;
}

/* FOOTER */
footer{
  text-align:center;
  padding:2.5rem 1.5rem;
  color:var(--gray);
  font-size:.85rem;
  border-top:1px solid rgba(255,255,255,.08);
}

/* ANIMATIONS */
@keyframes fadeInUp{
  from{opacity:0;transform:translateY(30px);}
  to{opacity:1;transform:translateY(0);}
}

@keyframes modalFadeIn{
  from{opacity:0;transform:translateY(-30px);}
  to{opacity:1;transform:translateY(0);}
}

@keyframes spin{
  0%{transform:rotate(0deg);}
  100%{transform:rotate(360deg);}
}

/* UTILITY CLASSES */
.text-center{text-align:center;}
.mb-1{margin-bottom:1rem;}
.mb-2{margin-bottom:2rem;}
.mt-2{margin-top:2rem;}

/* PRINT STYLES PARA PDF OPTIMIZADO */
@media print{
  .floating-buttons,
  .whatsapp-float,
  .modal,
  .loading-overlay{
    display:none !important;
  }
  
  body{
    background:white !important;
    color:black !important;
    font-size:14px !important;
    line-height:1.5 !important;
    width:100% !important;
    max-width:100% !important;
    margin:0 !important;
    padding:10px !important;
  }
  
  .container{
    max-width:100% !important;
    margin:0 !important;
    padding:0 !important;
  }
  
  section{
    padding:15px 10px !important;
    margin-bottom:10px !important;
    page-break-inside:avoid !important;
  }
  
  .card{
    background:white !important;
    border:1px solid #ddd !important;
    box-shadow:none !important;
    margin-bottom:15px !important;
    padding:15px !important;
    page-break-inside:avoid !important;
  }
  
  .hero{
    background:none !important;
    min-height:auto !important;
    padding:20px 10px !important;
  }
  
  .hero::after{
    display:none !important;
  }
  
  h1,h2,h3{
    color:black !important;
    page-break-after:avoid !important;
  }
  
  h1{
    font-size:20px !important;
    margin-bottom:10px !important;
  }
  
  h2{
    font-size:18px !important;
    margin-bottom:8px !important;
  }
  
  p, li{
    color:#333 !important;
    font-size:14px !important;
    margin-bottom:10px !important;
  }
  
  .logo{
    width:150px !important;
    margin-bottom:10px !important;
  }
  
  img{
    max-width:100% !important;
    height:auto !important;
    margin:10px 0 !important;
  }
  
  ul, ol{
    margin:10px 0 !important;
  }
  
  li{
    padding:5px 0 5px 15px !important;
    border-bottom:1px solid #eee !important;
  }
  
  /* MARCA DE AGUA PARA PDF */
  body::before{
    content:"" !important;
    position:fixed !important;
    top:50% !important;
    left:50% !important;
    transform:translate(-50%, -50%) !important;
    width:300px !important;
    height:100px !important;
    background-image:url('https://i.imgur.com/DGBtqM1.png') !important;
    background-size:contain !important;
    background-repeat:no-repeat !important;
    background-position:center !important;
    opacity:0.1 !important;
    z-index:9999 !important;
    pointer-events:none !important;
  }
  
  /* Asegurar que el contenido sea legible sobre la marca de agua */
  .container > *{
    position:relative !important;
    z-index:10000 !important;
  }
  
  /* Evitar que las imágenes se corten */
  img{
    max-height:250px !important;
    object-fit:contain !important;
  }
  
  /* Mejorar espaciado para mobile en PDF */
  @page{
    margin:10mm !important;
  }
  
  /* Evitar que los títulos queden solos al final de página */
  h1, h2, h3{
    page-break-after:avoid !important;
  }
  
  p{
    page-break-inside:avoid !important;
    orphans:3 !important;
    widows:3 !important;
  }
  
  /* Mejorar visualización de listas */
  li{
    page-break-inside:avoid !important;
  }
}
</style>

<!-- ICON LIBRARY -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>

<!-- HERO SECTION -->
<section class="hero">
  <div class="hero-content">
    <img src="https://i.imgur.com/DGBtqM1.png" class="logo" alt="Pulido Asesores">
    <h1>Especialistas en Auditoría</h1>
    <p>Certeza financiera · Control · Confianza</p>
    <div class="mt-2">
      <a href="https://choochshoot.github.io/asesoria-fiscal-site/" class="btn btn-primary">Nuestros Servicios</a>
    </div>
  </div>
</section>

<!-- MAIN CONTENT -->
<div class="container">
  <!-- INTRO -->
  <section id="services" class="card">
    <h2>Acompañamos decisiones críticas</h2>
    <p>Auditoría y aseguramiento con visión estratégica, experiencia técnica y acompañamiento cercano. En Pulido Asesores acompañamos a las empresas mediante servicios especializados de auditoría, aseguramiento y control, apoyados por soluciones contables y de outsourcing que fortalecen la operación y el cumplimiento normativo.</p>
    <img src="https://i.imgur.com/c1al2rA.png" alt="Equipo de trabajo">
  </section>

  <!-- AUDITORIA -->
  <section class="card">
    <h1>Auditoría</h1>
    <h3>Control y Aseguramiento</h3>
    <p>Nuestro enfoque preventivo brinda transparencia, confianza y solidez a la información financiera, fortaleciendo la toma de decisiones de la alta dirección.</p>
    <ul>
      <li>Auditoría fiscal</li>
      <li>Auditoría de estados financieros</li>
      <li>Control interno</li>
      <li>Servicios de aseguramiento</li>
      <li>Dictámenes e informes especiales</li>
    </ul>
    <img src="https://i.imgur.com/yWbW5EY.png" alt="Auditoría">
  </section>

  <!-- BPS & BPO -->
  <section class="card">
    <h2>BPS & BPO</h2>
    <p>Externalización de procesos contables y administrativos con control y disciplina.</p>
    <div class="list-group">
      <ul class="list">
        <li>Gestión de procesos contables</li>
        <li>Cumplimiento tributario</li>
        <li>Reconciliaciones contables y bancarias</li>
        <li>Depuración de cuentas</li>
        <li>Gestión de tesorería</li>
      </ul>
      <ul class="list">
        <li>Cuentas por cobrar</li>
        <li>Cuentas por pagar</li>
        <li>Inventarios físicos</li>
        <li>Control de activos fijos</li>
      </ul>
      <ul class="list">
        <li>Administración de nómina</li>
        <li>Loan Staff</li>
        <li>Personal por incapacidad o proyecto</li>
        <li>Soporte administrativo integral</li>
      </ul>
    </div>
    <img src="https://i.imgur.com/XYIbALB.png" alt="BPS y BPO">
  </section>

  <!-- FILOSOFÍA -->
  <section class="card philosophy-card">
    <h2>FILOSOFÍA</h2>
    <p>Creemos que la auditoría no es un evento aislado, sino un proceso que se construye junto al cliente. Nos involucramos de forma activa, ordenada, puntual y oportuna, acompañando cada decisión con criterio profesional, comunicación clara y disciplina técnica.</p>
    
    <div class="philosophy-list">
      <div class="philosophy-item">
        <strong>Control como herramienta de crecimiento</strong>
        Transformamos el control en una palanca estratégica para el desarrollo organizacional.
      </div>
      <div class="philosophy-item">
        <strong>Confianza como resultado del proceso</strong>
        Construimos relaciones basadas en transparencia y resultados consistentes.
      </div>
      <div class="philosophy-item">
        <strong>Acompañamiento como diferencial</strong>
        Proximidad y disponibilidad en cada etapa, más allá de la entrega formal.
      </div>
    </div>
  </section>

  <!-- MISIÓN -->
  <section class="card">
    <h2>MISIÓN</h2>
    <p>Acompañar a nuestros clientes en procesos de auditoría y control con un enfoque integral, involucrándonos de manera cercana, ordenada y profesional en cada etapa, para brindar certeza, claridad y confianza en su información financiera y en la toma de decisiones estratégicas.</p>
    
    <h3>Nuestro compromiso:</h3>
    <ul>
      <li><strong>Enfoque integral:</strong> Visión holística de cada organización</li>
      <li><strong>Proximidad:</strong> Relación cercana y colaborativa</li>
      <li><strong>Profesionalismo:</strong> Rigor técnico y metodológico</li>
      <li><strong>Certeza:</strong> Resultados confiables y verificables</li>
    </ul>
  </section>

  <!-- VISIÓN -->
  <section class="card">
    <h2>VISIÓN</h2>
    <p>Ser una firma referente a nivel nacional por nuestra manera de conducir los procesos de auditoría: con rigor técnico, puntualidad y acompañamiento permanente, convirtiéndonos en un aliado estratégico que aporta valor real, continuidad y solidez a las organizaciones que asesoramos.</p>
    
    <h3>Nuestros pilares diferenciadores:</h3>
    <ul>
      <li><strong>Rigor técnico:</strong> Metodologías robustas y actualizadas</li>
      <li><strong>Puntualidad:</strong> Entregas en tiempo y forma</li>
      <li><strong>Acompañamiento permanente:</strong> Disponibilidad más allá de lo contractual</li>
      <li><strong>Valor estratégico:</strong> Soluciones que impulsan el crecimiento</li>
    </ul>
  </section>

  <!-- POR QUÉ PULIDO ASESORES -->
  <section class="card">
    <h2>¿Por qué Pulido Asesores?</h2>
    <p>Combinamos especialización técnica con un modelo de acompañamiento cercano que transforma la auditoría en una herramienta estratégica.</p>
    
    <div class="list-group">
      <ul class="list">
        <li><strong>Especialización técnica:</strong> Equipo con certificaciones y experiencia sectorial</li>
        <li><strong>Enfoque preventivo:</strong> Identificación temprana de riesgos</li>
        <li><strong>Modelo BPS/BPO integrado:</strong> Soluciones complementarias</li>
      </ul>
      <ul class="list">
        <li><strong>Comunicación transparente:</strong> Informes claros y accionables</li>
        <li><strong>Flexibilidad metodológica:</strong> Adaptación a cada organización</li>
        <li><strong>Relación de largo plazo:</strong> Compromiso con la continuidad</li>
      </ul>
    </div>
  </section>

  <!-- CTA SECTION -->
  <section class="cta">
    <h2 class="text-center">Agendar Cita</h2>
    <p class="text-center"><strong>CP Gilberto Pulido</strong><br>Especialista en Auditoría y Control Interno</p>
    <div class="cta-buttons">
      <a href="https://wa.me/525668550117?text=Me%20interesa%20conocer%20más%20sobre%20sus%20servicios%20de%20auditoría%20y%20acompañamiento%20estratégico" class="btn btn-primary">
        <i class="fab fa-whatsapp"></i> WhatsApp
      </a>
      <button id="openPdfModal" class="btn btn-outline">
        <i class="fas fa-file-pdf"></i> Descargar Brochure
      </button>
    </div>
  </section>
</div>

<!-- FOOTER -->
<footer>
  © Pulido Asesores · Especialistas en Auditoría<br>
  <small>Tel: +52-56-6855-0117 | contacto@pulidoasesores.com</small>
</footer>

<!-- FLOATING ACTION BUTTONS -->
<div class="floating-buttons">
  <a href="https://wa.me/525668550117?text=Me%20interesa%20conocer%20más%20sobre%20sus%20servicios%20de%20auditoría%20y%20acompañamiento%20estratégico" class="floating-btn whatsapp">
    <i class="fab fa-whatsapp"></i>
    <span class="btn-label">Agendar Cita</span>
  </a>
  <button id="floatingPdfBtn" class="floating-btn pdf">
    <i class="fas fa-file-pdf"></i>
    <span class="btn-label">Brochure PDF</span>
  </button>
</div>

<!-- PDF MODAL -->
<div id="pdfModal" class="modal">
  <div class="modal-content">
    <div class="modal-header">
      <h3 class="modal-title">Descargar Brochure PDF</h3>
      <button class="modal-close">&times;</button>
    </div>
    <div class="modal-body">
      <p>Seleccione el formato del brochure que desea descargar:</p>
      <div class="modal-options">
        <div class="pdf-option-btn" id="downloadSimplePdf">
          <i class="fas fa-file-alt"></i>
          <span>Versión Simple</span>
          <div class="pdf-option-desc">Incluye información básica de servicios</div>
        </div>
        <div class="pdf-option-btn" id="downloadCompletePdf">
          <i class="fas fa-file-contract"></i>
          <span>Versión Completa</span>
          <div class="pdf-option-desc">Incluye todos los detalles y especificaciones</div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- LOADING OVERLAY -->
<div id="loadingOverlay" class="loading-overlay">
  <div class="loading-spinner"></div>
  <div class="loading-text">Generando PDF...</div>
</div>

<!-- SCRIPTS -->
<script>
// Scroll Reveal Animation
const cards = document.querySelectorAll('.card');
const observer = new IntersectionObserver(entries => {
  entries.forEach(entry => {
    if(entry.isIntersecting){
      entry.target.classList.add('reveal');
      observer.unobserve(entry.target);
    }
  });
},{ threshold:0.1 });

cards.forEach(card => observer.observe(card));

// PDF Modal Logic
const pdfModal = document.getElementById('pdfModal');
const openPdfModalBtn = document.getElementById('openPdfModal');
const floatingPdfBtn = document.getElementById('floatingPdfBtn');
const modalCloseBtn = document.querySelector('.modal-close');
const loadingOverlay = document.getElementById('loadingOverlay');

// Open modal
openPdfModalBtn.addEventListener('click', () => {
  pdfModal.style.display = 'flex';
  document.body.style.overflow = 'hidden';
});

floatingPdfBtn.addEventListener('click', () => {
  pdfModal.style.display = 'flex';
  document.body.style.overflow = 'hidden';
});

// Close modal
modalCloseBtn.addEventListener('click', () => {
  pdfModal.style.display = 'none';
  document.body.style.overflow = 'auto';
});

// Close modal when clicking outside
pdfModal.addEventListener('click', (e) => {
  if(e.target === pdfModal) {
    pdfModal.style.display = 'none';
    document.body.style.overflow = 'auto';
  }
});

// Generate PDF function - OPTIMIZED FOR MOBILE
function generatePDF(type = 'simple') {
  // Show loading overlay
  loadingOverlay.style.display = 'flex';
  document.body.style.overflow = 'hidden';
  
  // Define the element to convert to PDF
  const element = document.querySelector('.container');
  
  // Create a clone to avoid affecting the original
  const elementClone = element.cloneNode(true);
  
  // Add mobile-optimized styles to the clone
  const style = document.createElement('style');
  style.textContent = `
    /* Mobile-optimized PDF styles */
    @media print {
      body {
        font-size: 14px !important;
        line-height: 1.5 !important;
        width: 100% !important;
        margin: 0 !important;
        padding: 10px !important;
      }
      
      .card {
        margin-bottom: 15px !important;
        padding: 15px !important;
        page-break-inside: avoid !important;
      }
      
      h1 {
        font-size: 20px !important;
        margin-bottom: 10px !important;
      }
      
      h2 {
        font-size: 18px !important;
        margin-bottom: 8px !important;
      }
      
      p, li {
        font-size: 14px !important;
        margin-bottom: 10px !important;
      }
      
      img {
        max-width: 100% !important;
        max-height: 200px !important;
        object-fit: contain !important;
      }
      
      /* Watermark for PDF */
      body::before {
        content: "" !important;
        position: fixed !important;
        top: 50% !important;
        left: 50% !important;
        transform: translate(-50%, -50%) !important;
        width: 250px !important;
        height: 80px !important;
        background-image: url('https://i.imgur.com/DGBtqM1.png') !important;
        background-size: contain !important;
        background-repeat: no-repeat !important;
        background-position: center !important;
        opacity: 0.08 !important;
        z-index: 9999 !important;
        pointer-events: none !important;
      }
    }
  `;
  
  // Create a wrapper div for the PDF
  const pdfWrapper = document.createElement('div');
  pdfWrapper.appendChild(style);
  pdfWrapper.appendChild(elementClone);
  
  // Add the wrapper to the body temporarily
  document.body.appendChild(pdfWrapper);
  
  // PDF options optimized for mobile
  const opt = {
    margin: [10, 10, 10, 10],
    filename: `Pulido-Asesores-Brochure-${type === 'simple' ? 'Simple' : 'Completo'}.pdf`,
    image: { 
      type: 'jpeg', 
      quality: 0.95 
    },
    html2canvas: { 
      scale: 2,
      useCORS: true,
      scrollY: 0,
      windowWidth: 375, // Mobile width
      width: 375, // Mobile width
      x: 0,
      y: 0,
      backgroundColor: '#ffffff'
    },
    jsPDF: { 
      unit: 'mm', 
      format: 'a4', 
      orientation: 'portrait',
      compress: true
    },
    pagebreak: {
      mode: ['css', 'legacy', 'avoid-all']
    }
  };
  
  // Generate and download PDF
  setTimeout(() => {
    html2pdf().set(opt).from(pdfWrapper).save().then(() => {
      // Hide loading overlay
      loadingOverlay.style.display = 'none';
      document.body.style.overflow = 'auto';
      
      // Remove temporary wrapper
      document.body.removeChild(pdfWrapper);
      
      // Close modal
      pdfModal.style.display = 'none';
      
      // Show success message
      showNotification('PDF generado exitosamente', 'success');
    }).catch(err => {
      console.error('Error generating PDF:', err);
      loadingOverlay.style.display = 'none';
      document.body.style.overflow = 'auto';
      document.body.removeChild(pdfWrapper);
      showNotification('Error al generar el PDF', 'error');
    });
  }, 500);
}

// PDF Download Buttons
document.getElementById('downloadSimplePdf').addEventListener('click', () => {
  generatePDF('simple');
});

document.getElementById('downloadCompletePdf').addEventListener('click', () => {
  generatePDF('complete');
});

// Notification function
function showNotification(message, type = 'info') {
  const notification = document.createElement('div');
  notification.className = `notification ${type}`;
  notification.textContent = message;
  notification.style.cssText = `
    position: fixed;
    top: 20px;
    right: 20px;
    background: ${type === 'success' ? '#10b981' : '#ef4444'};
    color: white;
    padding: 15px 20px;
    border-radius: 8px;
    box-shadow: 0 10px 25px rgba(0,0,0,0.3);
    z-index: 9999;
    animation: fadeInUp 0.3s ease-out;
  `;
  
  document.body.appendChild(notification);
  
  // Remove notification after 3 seconds
  setTimeout(() => {
    notification.style.opacity = '0';
    notification.style.transform = 'translateY(-10px)';
    notification.style.transition = 'all 0.3s ease';
    
    setTimeout(() => {
      document.body.removeChild(notification);
    }, 300);
  }, 3000);
}

// Smooth scrolling for anchor links
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
  anchor.addEventListener('click', function(e) {
    e.preventDefault();
    
    const targetId = this.getAttribute('href');
    if(targetId === '#') return;
    
    const targetElement = document.querySelector(targetId);
    if(targetElement) {
      window.scrollTo({
        top: targetElement.offsetTop - 80,
        behavior: 'smooth'
      });
    }
  });
});
</script>
</body>
</html>
